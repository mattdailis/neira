import{H as K}from"../chunks/control.CYgJF_JY.js";import{s as P,n as B,r as Q}from"../chunks/scheduler.BlEyUcvO.js";import{S as L,i as Y,e as _,s as C,z as U,c as m,f as g,a as x,k as b,b as E,q as D,m as p,d as N,A,j as F,l as G,n as J,B as S,v as W,w as X,x as Z,t as ee,h as te,y as oe}from"../chunks/index.CaHyJZoe.js";import{e as T}from"../chunks/each.BDePSiCe.js";function ne(s,e){throw new K(s,e)}new TextEncoder;function le(s){const e=[];let l=!1;for(let t=0,a=0,n=0;n<s.length;n++){let r=s[n],i=s[n+1];if(e[t]=e[t]||[],e[t][a]=e[t][a]||"",r=='"'&&l&&i=='"'){e[t][a]+=r,++n;continue}if(r=='"'){l=!l;continue}if(r==","&&!l){++a;continue}if(r=="\r"&&i==`
`&&!l){++t,a=0,++n;continue}if(r==`
`&&!l){++t,a=0;continue}if(r=="\r"&&!l){++t,a=0;continue}e[t][a]+=r}return e}async function re({fetch:s,params:e}){const l=await s(`/dot/girls${e.slug}fours.csv`);l.status!=200&&ne(404,"Not found");const t=le(await l.text());let[,...a]=t[0],[,...n]=t;const r={};for(let i of a)r[i]={};for(let i of n){let d=i[0];for(let c=1;c<i.length;c++){let h=a[c-1],v=i[c];v!==""&&(r[d][h]=v)}}return console.log({margins:r}),{table:t,margins:r}}const _e=Object.freeze(Object.defineProperty({__proto__:null,load:re},Symbol.toStringTag,{value:"Module"}));function M(s,e,l){const t=s.slice();return t[10]=e[l],t}function O(s,e,l){const t=s.slice();return t[13]=e[l],t}function j(s,e,l){const t=s.slice();return t[16]=e[l],t}function q(s){let e,l=s[16]+"",t;return{c(){e=_("td"),t=F(l),this.h()},l(a){e=m(a,"TD",{class:!0});var n=b(e);t=G(n,l),n.forEach(g),this.h()},h(){E(e,"class","svelte-w8b2ek")},m(a,n){N(a,e,n),p(e,t)},p(a,n){n&2&&l!==(l=a[16]+"")&&J(t,l)},d(a){a&&g(e)}}}function H(s){let e,l=" "+s[13]+" ",t;return{c(){e=_("td"),t=F(l),this.h()},l(a){e=m(a,"TD",{class:!0});var n=b(e);t=G(n,l),n.forEach(g),this.h()},h(){E(e,"class","svelte-w8b2ek")},m(a,n){N(a,e,n),p(e,t)},p(a,n){n&1&&l!==(l=" "+a[13]+" ")&&J(t,l)},d(a){a&&g(e)}}}function R(s){let e,l,t,a,n=T(s[10]),r=[];for(let i=0;i<n.length;i+=1)r[i]=H(O(s,n,i));return{c(){e=_("tr");for(let i=0;i<r.length;i+=1)r[i].c();l=C(),this.h()},l(i){e=m(i,"TR",{class:!0,draggable:!0});var d=b(e);for(let c=0;c<r.length;c+=1)r[c].l(d);l=x(d),d.forEach(g),this.h()},h(){E(e,"class","item svelte-w8b2ek"),E(e,"draggable","true")},m(i,d){N(i,e,d);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);p(e,l),t||(a=[S(e,"dragstart",s[2]),S(e,"dragover",s[3]),S(e,"dragend",s[4]),S(e,"touchstart",s[5]),S(e,"touchmove",s[6]),S(e,"touchend",s[7])],t=!0)},p(i,d){if(d&1){n=T(i[10]);let c;for(c=0;c<n.length;c+=1){const h=O(i,n,c);r[c]?r[c].p(h,d):(r[c]=H(h),r[c].c(),r[c].m(e,l))}for(;c<r.length;c+=1)r[c].d(1);r.length=n.length}},d(i){i&&g(e),A(r,i),t=!1,Q(a)}}}function ae(s){let e,l,t,a,n,r,i,d,c=T(s[1]),h=[];for(let o=0;o<c.length;o+=1)h[o]=q(j(s,c,o));let v=T(s[0]),u=[];for(let o=0;o<v.length;o+=1)u[o]=R(M(s,v,o));return{c(){e=_("meta"),l=C(),t=_("div"),a=_("table"),n=_("thead"),r=_("tr");for(let o=0;o<h.length;o+=1)h[o].c();i=C(),d=_("tbody");for(let o=0;o<u.length;o+=1)u[o].c();this.h()},l(o){const w=U("svelte-1m8nz9d",document.head);e=m(w,"META",{name:!0,content:!0}),w.forEach(g),l=x(o),t=m(o,"DIV",{style:!0});var f=b(t);a=m(f,"TABLE",{class:!0});var y=b(a);n=m(y,"THEAD",{});var V=b(n);r=m(V,"TR",{});var z=b(r);for(let k=0;k<h.length;k+=1)h[k].l(z);z.forEach(g),V.forEach(g),i=x(y),d=m(y,"TBODY",{});var I=b(d);for(let k=0;k<u.length;k+=1)u[k].l(I);I.forEach(g),y.forEach(g),f.forEach(g),this.h()},h(){E(e,"name","viewport"),E(e,"content","width=device-width, initial-scale=1.0, user-scalable=no"),E(a,"class","svelte-w8b2ek"),D(t,"list-style-type","none"),D(t,"font-size","18pt"),D(t,"font-weight","bold")},m(o,w){p(document.head,e),N(o,l,w),N(o,t,w),p(t,a),p(a,n),p(n,r);for(let f=0;f<h.length;f+=1)h[f]&&h[f].m(r,null);p(a,i),p(a,d);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(d,null)},p(o,[w]){if(w&2){c=T(o[1]);let f;for(f=0;f<c.length;f+=1){const y=j(o,c,f);h[f]?h[f].p(y,w):(h[f]=q(y),h[f].c(),h[f].m(r,null))}for(;f<h.length;f+=1)h[f].d(1);h.length=c.length}if(w&253){v=T(o[0]);let f;for(f=0;f<v.length;f+=1){const y=M(o,v,f);u[f]?u[f].p(y,w):(u[f]=R(y),u[f].c(),u[f].m(d,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=v.length}},i:B,o:B,d(o){o&&(g(l),g(t)),g(e),A(h,o),A(u,o)}}}function $(s,e){if(e.parentNode===s.parentNode){for(var l=s.previousSibling;l&&l.nodeType!==9;l=l.previousSibling)if(l===e)return!0}return!1}function se(s,e,l){let{html_rows:t}=e,{columns:a}=e;var n,r;function i(o){console.log("dragStart()"),o.dataTransfer.effectAllowed="move",o.dataTransfer.setData("text/plain",null),n=o.target,r=n.style.backgroundColor,n.style.backgroundColor="#e5e5e5"}function d(o){$(n,o.target.parentNode)?o.target.parentNode.parentNode.insertBefore(n,o.target.parentNode):o.target.parentNode.parentNode.insertBefore(n,o.target.parentNode.nextSibling)}function c(o){console.log(o),n.style=r}function h(o){console.log("touchStart()"),o.preventDefault(),o.touches.length==1&&(n=o.targetTouches[0].target,r=n.style.backgroundColor,n.style.backgroundColor="#e5e5e5")}function v(o){console.log("touchMove()"),o.preventDefault(),$(n,o.target)?o.target.parentNode.insertBefore(n,o.target):o.target.parentNode.insertBefore(n,o.target.nextSibling)}function u(o){console.log("touchEnd()"),n.style=r}return s.$$set=o=>{"html_rows"in o&&l(0,t=o.html_rows),"columns"in o&&l(1,a=o.columns)},[t,a,i,d,c,h,v,u]}class ie extends L{constructor(e){super(),Y(this,e,se,ae,P,{html_rows:0,columns:1})}}function ce(s){let e,l,t,a,n;return a=new ie({props:{html_rows:s[1],columns:s[0]}}),{c(){e=_("div"),l=_("div"),t=_("div"),W(a.$$.fragment),this.h()},l(r){e=m(r,"DIV",{class:!0});var i=b(e);l=m(i,"DIV",{class:!0});var d=b(l);t=m(d,"DIV",{class:!0});var c=b(t);X(a.$$.fragment,c),c.forEach(g),d.forEach(g),i.forEach(g),this.h()},h(){E(t,"class","w3-row-padding w3-margin-bottom"),E(l,"class","w3-col s12"),E(e,"class","w3-row-padding w3-margin-bottom")},m(r,i){N(r,e,i),p(e,l),p(l,t),Z(a,t,null),n=!0},p:B,i(r){n||(ee(a.$$.fragment,r),n=!0)},o(r){te(a.$$.fragment,r),n=!1},d(r){r&&g(e),oe(a)}}}function fe(s,e,l){let{data:t}=e,a=t.table[0],n=t.table.slice(1);return s.$$set=r=>{"data"in r&&l(2,t=r.data)},[a,n,t]}class me extends L{constructor(e){super(),Y(this,e,fe,ce,P,{data:2})}}export{me as component,_e as universal};
