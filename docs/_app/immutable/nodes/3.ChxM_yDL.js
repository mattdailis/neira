import{H as K}from"../chunks/control.CYgJF_JY.js";import{s as P,n as B,r as Q}from"../chunks/scheduler.Ce_0Mfso.js";import{S as L,i as Y,e as m,s as A,z as U,c as _,f as g,a as C,h as b,b as S,q as D,k as p,d as k,A as x,t as F,j as G,l as J,B as T,v as W,w as X,x as Z,p as ee,n as te,y as ne}from"../chunks/index.BToHiQLN.js";function N(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function le(s,e){throw new K(s,e)}new TextEncoder;function oe(s){const e=[];let o=!1;for(let t=0,a=0,l=0;l<s.length;l++){let r=s[l],c=s[l+1];if(e[t]=e[t]||[],e[t][a]=e[t][a]||"",r=='"'&&o&&c=='"'){e[t][a]+=r,++l;continue}if(r=='"'){o=!o;continue}if(r==","&&!o){++a;continue}if(r=="\r"&&c==`
`&&!o){++t,a=0,++l;continue}if(r==`
`&&!o){++t,a=0;continue}if(r=="\r"&&!o){++t,a=0;continue}e[t][a]+=r}return e}async function re({fetch:s,params:e}){const o=await s(`/dot/girls${e.slug}fours.csv`);o.status!=200&&le(404,"Not found");const t=oe(await o.text());let[,...a]=t[0],[,...l]=t;const r={};for(let c of a)r[c]={};for(let c of l){let d=c[0];for(let i=1;i<c.length;i++){let h=a[i-1],v=c[i];v!==""&&(r[d][h]=v)}}return console.log({margins:r}),{table:t,margins:r}}const ge=Object.freeze(Object.defineProperty({__proto__:null,load:re},Symbol.toStringTag,{value:"Module"}));function M(s,e,o){const t=s.slice();return t[10]=e[o],t}function O(s,e,o){const t=s.slice();return t[13]=e[o],t}function j(s,e,o){const t=s.slice();return t[16]=e[o],t}function q(s){let e,o=s[16]+"",t;return{c(){e=m("td"),t=F(o),this.h()},l(a){e=_(a,"TD",{class:!0});var l=b(e);t=G(l,o),l.forEach(g),this.h()},h(){S(e,"class","svelte-w8b2ek")},m(a,l){k(a,e,l),p(e,t)},p(a,l){l&2&&o!==(o=a[16]+"")&&J(t,o)},d(a){a&&g(e)}}}function H(s){let e,o=" "+s[13]+" ",t;return{c(){e=m("td"),t=F(o),this.h()},l(a){e=_(a,"TD",{class:!0});var l=b(e);t=G(l,o),l.forEach(g),this.h()},h(){S(e,"class","svelte-w8b2ek")},m(a,l){k(a,e,l),p(e,t)},p(a,l){l&1&&o!==(o=" "+a[13]+" ")&&J(t,o)},d(a){a&&g(e)}}}function R(s){let e,o,t,a,l=N(s[10]),r=[];for(let c=0;c<l.length;c+=1)r[c]=H(O(s,l,c));return{c(){e=m("tr");for(let c=0;c<r.length;c+=1)r[c].c();o=A(),this.h()},l(c){e=_(c,"TR",{class:!0,draggable:!0});var d=b(e);for(let i=0;i<r.length;i+=1)r[i].l(d);o=C(d),d.forEach(g),this.h()},h(){S(e,"class","item svelte-w8b2ek"),S(e,"draggable","true")},m(c,d){k(c,e,d);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(e,null);p(e,o),t||(a=[T(e,"dragstart",s[2]),T(e,"dragover",s[3]),T(e,"dragend",s[4]),T(e,"touchstart",s[5]),T(e,"touchmove",s[6]),T(e,"touchend",s[7])],t=!0)},p(c,d){if(d&1){l=N(c[10]);let i;for(i=0;i<l.length;i+=1){const h=O(c,l,i);r[i]?r[i].p(h,d):(r[i]=H(h),r[i].c(),r[i].m(e,o))}for(;i<r.length;i+=1)r[i].d(1);r.length=l.length}},d(c){c&&g(e),x(r,c),t=!1,Q(a)}}}function ae(s){let e,o,t,a,l,r,c,d,i=N(s[1]),h=[];for(let n=0;n<i.length;n+=1)h[n]=q(j(s,i,n));let v=N(s[0]),u=[];for(let n=0;n<v.length;n+=1)u[n]=R(M(s,v,n));return{c(){e=m("meta"),o=A(),t=m("div"),a=m("table"),l=m("thead"),r=m("tr");for(let n=0;n<h.length;n+=1)h[n].c();c=A(),d=m("tbody");for(let n=0;n<u.length;n+=1)u[n].c();this.h()},l(n){const w=U("svelte-1m8nz9d",document.head);e=_(w,"META",{name:!0,content:!0}),w.forEach(g),o=C(n),t=_(n,"DIV",{style:!0});var f=b(t);a=_(f,"TABLE",{class:!0});var E=b(a);l=_(E,"THEAD",{});var V=b(l);r=_(V,"TR",{});var z=b(r);for(let y=0;y<h.length;y+=1)h[y].l(z);z.forEach(g),V.forEach(g),c=C(E),d=_(E,"TBODY",{});var I=b(d);for(let y=0;y<u.length;y+=1)u[y].l(I);I.forEach(g),E.forEach(g),f.forEach(g),this.h()},h(){S(e,"name","viewport"),S(e,"content","width=device-width, initial-scale=1.0, user-scalable=no"),S(a,"class","svelte-w8b2ek"),D(t,"list-style-type","none"),D(t,"font-size","18pt"),D(t,"font-weight","bold")},m(n,w){p(document.head,e),k(n,o,w),k(n,t,w),p(t,a),p(a,l),p(l,r);for(let f=0;f<h.length;f+=1)h[f]&&h[f].m(r,null);p(a,c),p(a,d);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(d,null)},p(n,[w]){if(w&2){i=N(n[1]);let f;for(f=0;f<i.length;f+=1){const E=j(n,i,f);h[f]?h[f].p(E,w):(h[f]=q(E),h[f].c(),h[f].m(r,null))}for(;f<h.length;f+=1)h[f].d(1);h.length=i.length}if(w&253){v=N(n[0]);let f;for(f=0;f<v.length;f+=1){const E=M(n,v,f);u[f]?u[f].p(E,w):(u[f]=R(E),u[f].c(),u[f].m(d,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=v.length}},i:B,o:B,d(n){n&&(g(o),g(t)),g(e),x(h,n),x(u,n)}}}function $(s,e){if(e.parentNode===s.parentNode){for(var o=s.previousSibling;o&&o.nodeType!==9;o=o.previousSibling)if(o===e)return!0}return!1}function se(s,e,o){let{html_rows:t}=e,{columns:a}=e;var l,r;function c(n){console.log("dragStart()"),n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("text/plain",null),l=n.target,r=l.style.backgroundColor,l.style.backgroundColor="#e5e5e5"}function d(n){$(l,n.target.parentNode)?n.target.parentNode.parentNode.insertBefore(l,n.target.parentNode):n.target.parentNode.parentNode.insertBefore(l,n.target.parentNode.nextSibling)}function i(n){console.log(n),l.style=r}function h(n){console.log("touchStart()"),n.preventDefault(),n.touches.length==1&&(l=n.targetTouches[0].target,r=l.style.backgroundColor,l.style.backgroundColor="#e5e5e5")}function v(n){console.log("touchMove()"),n.preventDefault(),$(l,n.target)?n.target.parentNode.insertBefore(l,n.target):n.target.parentNode.insertBefore(l,n.target.nextSibling)}function u(n){console.log("touchEnd()"),l.style=r}return s.$$set=n=>{"html_rows"in n&&o(0,t=n.html_rows),"columns"in n&&o(1,a=n.columns)},[t,a,c,d,i,h,v,u]}class ce extends L{constructor(e){super(),Y(this,e,se,ae,P,{html_rows:0,columns:1})}}function ie(s){let e,o,t,a,l;return a=new ce({props:{html_rows:s[1],columns:s[0]}}),{c(){e=m("div"),o=m("div"),t=m("div"),W(a.$$.fragment),this.h()},l(r){e=_(r,"DIV",{class:!0});var c=b(e);o=_(c,"DIV",{class:!0});var d=b(o);t=_(d,"DIV",{class:!0});var i=b(t);X(a.$$.fragment,i),i.forEach(g),d.forEach(g),c.forEach(g),this.h()},h(){S(t,"class","w3-row-padding w3-margin-bottom"),S(o,"class","w3-col s12"),S(e,"class","w3-row-padding w3-margin-bottom")},m(r,c){k(r,e,c),p(e,o),p(o,t),Z(a,t,null),l=!0},p:B,i(r){l||(ee(a.$$.fragment,r),l=!0)},o(r){te(a.$$.fragment,r),l=!1},d(r){r&&g(e),ne(a)}}}function fe(s,e,o){let{data:t}=e,a=t.table[0],l=t.table.slice(1);return s.$$set=r=>{"data"in r&&o(2,t=r.data)},[a,l,t]}class me extends L{constructor(e){super(),Y(this,e,fe,ie,P,{data:2})}}export{me as component,ge as universal};
